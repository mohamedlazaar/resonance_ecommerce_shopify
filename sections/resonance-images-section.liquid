<style>
  #section__{{ section.id }} {
    background: {{ section.settings.background__color }};
  }

  .images_section {
    text-align: center;
    padding: 60px 10px;
    display:flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    overflow: hidden;
  }

  .images_section h2 {
    font-size: 36px;
    font-weight: 700;
    color: #3d3a37;
    margin-bottom: 10px;
  }

  .subtitle {
    font-size: 16px;
    color: #7d7a76;
    margin-bottom: 40px;
  }

  .images__{{ section.id }} {
    width: 100%;
    margin: 0 auto;
    padding: 20px 0;
   
  }
  .images__{{ section.id }} .wrapper{
     display: flex;
     justify-content: center;
     align-items: center;
     gap:20px;
     padding: 0
}

  .swiper_img_cont {
    display: flex;
    justify-content: center;
    height: 100%;
    max-width: 500px;
    width: 100%;
  }

  .img_item {
    width: 100%;
    height: 100%;
    border-radius: 10px;
  }
  @media screen and (max-width: 768px){
    .images__{{ section.id }} .wrapper{
     justify-content: flex-start;
     flex-direction: column;
     }
    .swiper_img_cont {
        width: 100%;
    }
  }
  
</style>

<div class="images_section" id="section__{{ section.id }}">
  <div class="content">
    <h2>{{ section.settings.section_title }}</h2>
    <p class="subtitle">{{ section.settings.section_description }}</p>
  </div>

  <div class="images__{{ section.id }}">
    <div class="wrapper">
      {% for block in section.blocks %}
        {% if block.type == "image" %}
          <div class=" swiper_img_cont">
            <img src="{{ block.settings.image | image_url }}" class="img_item" width="100" height="100">
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
<script>
 if(window.innerWidth > 1024){

// DESKTOP ONLY — GSAP animation
  const wrapper = document.querySelector('.images__{{ section.id }} .wrapper');
  const slides = gsap.utils.toArray('.images__{{ section.id }} .swiper_img_cont');

  // Ensure wrapper is ready for absolute positioned children
  wrapper.style.position = 'relative';
  wrapper.style.minHeight = '50vh';

  // 1️⃣ Capture the final positions BEFORE we change anything
  const finalPositions = slides.map(slide => ({
    left: slide.offsetLeft,
    top: slide.offsetTop,
    width: slide.offsetWidth,
    height: slide.offsetHeight
  }));

  // 2️⃣ Stack all slides at the exact same starting point (top center)
  slides.forEach(slide => {
    gsap.set(slide, {
      position: "absolute",
      left: "50%",
      top: "-70%",
      x: "-50%",
      opacity: 0,
      scale: 0.7,
      zIndex: 10
    });
  });

  // 3️⃣ Animate slides into their real grid positions
  gsap.timeline({
    scrollTrigger: {
      trigger: ".images_section",
      start: "top bottom",
      end: "bottom 50%",
      scrub: 1
    }
  })
  .to(slides, {
    left: (i) => finalPositions[i].left,
    top: (i) => finalPositions[i].top,
    x: 0,
    y: 0,
    scale: 1,
    opacity: 1,
    ease: "power3.out",
    stagger: 0.15,
    duration: 1.2
  });
}
</script>





{% schema %}
{
  "name": "Images",
  "settings": [
    {
      "type": "color_background",
      "id": "background__color",
      "label": "Background-color",
      "default": "#F9F9F9"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title",
      "default":"Your Style. Your Sound."
    },
    {
      "type": "text",
      "id": "section_description",
      "label": "Section Description",
      "default": "From the stitch to the signal, precision lives here."
    }
  ],
  "blocks":[
    {
        "type":"image",
        "name":"image",
        "settings": [
            {
                "type": "image_picker",
                "id": "image",
                "label": "image"
            }
        ]
    }
  ],
  "presets": [
    {
      "name": "Images"
    }
  ]
}
{% endschema %}